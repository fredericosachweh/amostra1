Hi Frank,
Happy New Year!

About next steps, the possible request of 100K to 150K is our sale preview across a year.

At this moment, cianet is primary work to build a multcast network, and almost test is in this environment.

Some reply below:

Em Seg, Janeiro 3, 2011 5:57 am, Frank Wang (çŽ‹æ³•æ–‡) escreveu:
> Hi Helber,
>
> Happy New Year!
>
>
>
> For some issues mentioned in your mail, please let me discuss with you
> first.
>
>
>
> - When we play video for long time happens:
>
> <shell>
>
> (*) --------------------  STARTING MEMORY DEFRAGMENTATION !!!
>
> -------------------
>
> (!) SMP8634: *** Out of video memory ! ***
>
> </shell>
>
>
>
> Killing arora and try run happens:
>
> <shell>
>
> (!) Driver getting globals=0x543750
>
> (!) DirectFB/Core: Could not initialize 'gfxcard' core!
>
>     --> Out of video memory!
>
> (!) System is going down !!
>
> (!) System is down!!
>
> (#) DirectFBError [QDirectFBScreen: error creating DirectFB interface]:
>
> Out of video memory!
>
> directfb: driver cannot connect
>
> Aborted
>
> </shell>
>
>
>
> Ã¨ Could you please let us know what the environment you are trying?
> (Multi-cast?) What kind of format you are playing? (MP4 or ?)
>
>    How much time after playing a content could see this symptom?
>

We are playing mp4 multicast (video H.264 and audio aac), over address 224 raw udp.
This symptom appear on stop and play different multicast address, not a specific time (at this moment i reproduce em 2 minutes).
Now:
<shell>
(*) --------------------  STARTING MEMORY DEFRAGMENTATION !!!  -------------------
(!) SMP8634: *** Out of video memory ! ***
</shell>

Then i try to run more:
<shell>
00:06:22.916 [../src/rmfp_resources_video.c:370] ERROR (RM_FATALOUTOFMEMORY) : Can't allocate 34053316 bytes in DRAM 0
00:06:22.916 [../src/demux_common.c:820] ERROR (RM_FATALOUTOFMEMORY) : rmlibplay_get_video_decoder failed
00:06:22.917 [../../src/main_psfdemux.c:3612] ERROR (RM_FATALOUTOFMEMORY) : Unable to open video decoder, quitting...
00:06:22.917 [../../src/main_psfdemux.c:7070] ERROR (RM_FATALOUTOFMEMORY) : create_pids_from_pmt
00:06:22.924 [../../src/main_psfdemux.c:1243] ERROR (RM_ERROR) : quitting due to error...
</shell>


>
>
>
>
> -          There are some instability on STB yet:
>
>         Some times, the stb stop to respond.
>
>
>
>         The system go slow, we try to reset and stb back still slow. We
> cut
>
> energy (full shutdown ;) ) stb back good. Looks hardware issue.
>
>
>
> Ã  Could you please let us know what the environment you are trying?
> (Multi-cast?) What kind of format you are playing? (MP4 or ?)
>
>    How much time after playing a content could see this symptom?
>
>
>
> -          Multi-cast delay and flick â€¦ (Few weeks ago you mentioned
> this in mail)
>
> Ã¨ We could duplicate this case here. We have some ideas, and still under
> trying to fix them. We are continue tracing this issue. Sorry for the
> delay of updating.
>

Great.


>
>
> -          Buffer control (Priority):
>
>         We are developing a multicast cache server with a protocol to
> recover
>
> lost udp packets.
>
>         Then we need a way to control stb buffer, to re-inject lost
> packets
>
> inside the buffer.
>
>         In addiction we need a way to control buffer size, cache sbt
> control,
>
> cache reset, ...
>
>
>
> Ã¨ Could you please tell us more about the purpose of this feature?
> Whatâ€™s the scenario of this feature?
>
> We canâ€™t imagine how to use this feature now.
>

The idea to this feature is:

          ///////////////////////
          ///Multicast/Servers///
          ///////////////////////
                    |
            ///////////////////
            ///Cache/Servers///
            ///////////////////
                    |
              /////////////
              ///Network///
              /////////////
                    |
    +----------+----------+-----------+
    |          |          |           |
 ///////    ///////    ///////    ///////
 //STB//    //STB//    //STB//    //STB//
 ///////    ///////    ///////    ///////


---------------------------------------> time line
.....................................M
.................................C
..S

Consider "M" (Servers multicast), "C" (Cache Servers), "S" (STB play time), point in time.
The sequential udp came from network to STB, can be detect lost packet on sequential lost.
The time betwen S and M is buffer on STB, and this can be good and lost packet.
To recover lost packet STB call Cache Server and request specific packets.
This is good to recover few lost on network. The window size to try recover is small (100~300 ms).



>
>
> -          Other requirements
>
> Ã¨ We will allocate resources to implement them. When we have a clear
> schedule plan, we will update to you.
>
>
>
> -          10 more STB with remote controller and case
>
> Ã¨ We are trying to find 10 pcs STB for you, but not sure if we could have
> enough stock. William will contact with you about the detail.
>

Please, ASAP.

>
>
> Regards,
>
> Frank
>
>
>


Regards,
Helber Maciel Guerra



